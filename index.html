<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <title>Cennik Przedmiotów Legendarnych</title>
    <link rel="stylesheet" href="style.css" />
    <style>
      .filter-buttons {
        text-align: center;
        margin-bottom: 20px;
      }
      .filter-buttons button {
        margin: 0 10px;
        padding: 8px 16px;
        font-size: 14px;
        cursor: pointer;
        background-color: #222;
        border: 1px solid #444;
        color: #fff;
        border-radius: 6px;
      }
      .filter-buttons button:hover {
        background-color: #444;
      }
    </style>
  </head>
  <body>
    <h1>CENNIK PRZEDMIOTÓW <span>LEGENDARNYCH</span></h1>

    <div class="filter-buttons">
      <button onclick="loadData('data1.json')">Elity II</button>
      <button onclick="loadData('data2.json')">Herosi</button>
      <button onclick="loadAll()">Wszyscy</button>
    </div>

    <div class="legend-container" id="content">Wczytywanie...</div>

    <script>
      let fullData = [];

      function renderBosses(data) {
        const container = document.getElementById("content");
        container.innerHTML = "";

        data.forEach((boss) => {
          const block = document.createElement("div");
          block.className = "boss-block";

          block.innerHTML = `
            <div class="boss-header">
              <h2>${boss.name}</h2>
              <div class="boss-img">
                <img src="${boss.img}" alt="${boss.name}">
              </div>
            </div>
            <div class="legendary-loot">
              ${boss.items
                .map(
                  (item) => `
                <div class="item">
                  <div class="item-left">
                    <img src="${item.img}" alt="${item.name}">
                    <div>
                      <div class="item-name">${item.name}</div>
                      <div class="item-lvl">Poziom: ${item.lvl}</div>
                    </div>
                  </div>
                  <span class="price-tag">${item.price}</span>
                </div>
              `
                )
                .join("")}
            </div>
          `;
          container.appendChild(block);
        });
      }

      function loadData(file) {
        fetch(file)
          .then((response) => response.json())
          .then((data) => {
            fullData = data;
            renderBosses(fullData);
          });
      }

      function loadAll() {
        Promise.all([
          fetch("data1.json").then((res) => res.json()),
          fetch("data2.json").then((res) => res.json()),
        ]).then(([elity, herosi]) => {
          fullData = [...elity, ...herosi];
          renderBosses(fullData);
        });
      }

      // Domyślnie ładuj elity II
      loadData("data1.json");
    </script>
  </body>
</html>
